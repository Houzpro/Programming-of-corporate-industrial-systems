# Текстовый анализатор

Консольное приложение на Go для обработки текстовых файлов с функциями открытия, чтения и поиска определенных фраз в тексте.

## Функциональность

Программа предоставляет следующие возможности:
- Интерактивный консольный интерфейс
- Чтение и анализ текстовых файлов
- Подсчет общего количества слов в файле
- Поиск и подсчет заданной фразы в тексте
- Обработка ошибок при работе с файлами

## Структура проекта

```
/ПР1
├── main.go          # Основной код программы
├── main_test.go     # Тесты
├── go.mod           # Файл модуля Go
├── test.txt         # Тестовый файл для анализа
└── README.md        # Документация (этот файл)
```

## Основные компоненты кода

### main.go

Файл содержит три основные функции:

1. **main()** - Точка входа в программу:
   - Инициализирует интерактивный терминал
   - Обрабатывает пользовательский ввод
   - Выполняет команды по анализу файлов

2. **readFile(filePath string) (string, error)** - Чтение содержимого файла:
   - Открывает файл по указанному пути
   - Читает все строки файла
   - Объединяет содержимое в строку
   - Возвращает содержимое файла или ошибку

3. **searchPhrase(content, phrase string) (int, int)** - Анализ текста:
   - Разбивает текст на слова
   - Подсчитывает общее количество слов
   - Находит количество вхождений указанной фразы
   - Возвращает результаты подсчета

### main_test.go

Содержит тесты для проверки корректности работы функций:

1. **TestSearchPhrase** - Проверяет нахождение фразы в тексте
2. **TestSearchPhraseNotFound** - Проверяет случай, когда фраза не найдена
3. **TestReadFile** - Проверяет правильность чтения файла
4. **TestMultipleOccurrences** - Проверяет нахождение множественных вхождений фразы

## Использование программы

### Запуск программы

```bash
go run main.go
```

### Доступные команды

После запуска программы доступны следующие команды:

- **анализ <путь_к_файлу> <фраза_для_поиска>** - Анализирует указанный файл и ищет заданную фразу
  ```
  > анализ test.txt hello world
  ```

- **выход** - Завершает работу программы
  ```
  > выход
  ```

### Примеры использования

```
> анализ test.txt hello
Общее количество слов в файле: 11
Количество вхождений фразы 'hello': 4

> анализ test.txt "is a"
Общее количество слов в файле: 11
Количество вхождений фразы 'is a': 1
```

## Запуск тестов

```bash
go test
```

Для подробного вывода:

```bash
go test -v
```

## Принципы работы с памятью

Программа использует эффективные подходы к управлению памятью:

1. **Отложенное закрытие файлов** (defer file.Close()) - гарантирует освобождение ресурсов даже при возникновении ошибок.
2. **strings.Builder** для сборки содержимого файла - более эффективен по памяти по сравнению с конкатенацией строк.
3. **Передача строк по значению** - в Go строки неизменяемы и эффективно передаются по значению.

## Обработка ошибок

Программа включает обработку типичных ошибок:
- Проверка корректности команд пользователя
- Обработка ошибок при открытии файла
- Обработка ошибок при чтении файла
